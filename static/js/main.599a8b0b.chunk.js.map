{"version":3,"sources":["images/logo.svg","images/Error.svg","images/check-mark.svg","contexts/CurrentUserEmail.js","components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","hooks/useFormWithValidation.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","utils/apiAuth.js","utils/constants.js","components/Register.js","components/Login.js","components/InfoTooltip.js","components/Menu.js","utils/api.js","components/ProtectedRoute.js","components/App.js","index.js"],"names":["module","exports","CurrentUserEmail","React","createContext","Header","signOut","handleMenu","handleButtonMenu","isButtonMenuActive","CurrentEmail","useContext","className","src","headerLogo","alt","path","to","onClick","Card","props","onCardClick","onCardLike","onCardDelete","link","name","_id","likes","owner","userId","isLiked","some","i","isOwn","type","aria-label","length","CurrentUserContext","Main","onEditProfile","onAddPlace","onEditAvatar","initialCards","currentUser","avatar","about","map","card","key","Footer","ImagePopup","onClose","isOpen","closeByEscAndOverlay","useEffect","PopupWithForm","title","children","onSubmit","noValidate","method","action","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","target","value","validationMessage","closest","checkValidity","EditProfilePopup","onUpdateUser","e","preventDefault","onChange","id","placeholder","minLength","maxLength","required","disabled","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","DeleteCardPopup","buttonFocusRef","useRef","current","focus","buttonText","ref","apiAuth","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","email","password","fetch","body","JSON","stringify","then","_handleResponse","token","Register","setIsLoggedIn","setIsInfoTooltipOpen","setHasRegistartionError","message","setMessage","history","useHistory","handleAuthorization","authorize","data","localStorage","setItem","removeItem","push","catch","err","console","error","evt","register","statusCode","setTimeout","Login","InfoTooltip","hasError","ErrorIcon","CheckMarkIcon","Menu","loggedIn","api","_authorization","authorization","cardId","ProtectedRoute","Component","component","App","location","useLocation","setCurrentUser","currentUserEmail","setCurrentUserEmail","cards","setCards","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isPhotoPopupOpen","setIsPhotoPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipOpen","isMenuOpen","setIsMenuOpen","setIsButtonMenuActive","hasRegistartionError","selectedCard","setSelectedCard","cardForDelete","setCardForDelete","isLoggedIn","closeAllPopups","closePopupByEscAndOverlay","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","all","getUserInfo","getInitialCards","userInfo","cardsInfo","getItem","getContent","tokenCheck","pathname","Provider","cardLikes","generateNewCards","newCard","newCards","item","deleteLike","putLike","idCard","editProfile","editAvatar","createCard","deleteCard","filter","ReactDOM","render","StrictMode","basename","process","getElementById"],"mappings":"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","file":"static/js/main.599a8b0b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.2b1f7ee5.svg\";","module.exports = __webpack_public_path__ + \"static/media/Error.f10ac534.svg\";","module.exports = __webpack_public_path__ + \"static/media/check-mark.e38b395c.svg\";","import React from 'react';\nexport const CurrentUserEmail = React.createContext();","import React from 'react';\nimport headerLogo from '../images/logo.svg';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport { CurrentUserEmail } from '../contexts/CurrentUserEmail';\n\nfunction Header({ signOut, handleMenu, handleButtonMenu, isButtonMenuActive }) {\n\n  \n  const CurrentEmail = React.useContext(CurrentUserEmail);\n\n  function clickButton() {\n    handleButtonMenu();\n    handleMenu();\n  }\n\n  return (\n    <header className=\"header\">\n        <img className =\"header__logo\" src={headerLogo}  alt=\"Логотип сайта Место Россия.\" />\n          <Switch>\n\n            <Route path=\"/sign-up\">\n              <ul className=\"header__nav\">\n                <li><Link to=\"/sign-in\" className=\"header__link\">Войти</Link></li>\n              </ul>\n            </Route>\n\n            <Route path=\"/sign-in\">\n              <ul className=\"header__nav\">\n                <li><Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link></li>\n              </ul>\n            </Route>\n\n            <Route path=\"/\">\n              <ul className=\"header__nav header__nav_media-hidden\">\n                <li><p className=\"header__user-info\">{ CurrentEmail &&  CurrentEmail}</p></li>\n                <li><button onClick={signOut} className=\"header__link header__button\">Выйти</button></li>\n              </ul>\n              <div className={`header__burger-button ${isButtonMenuActive && `header__burger-button_active` }`} onClick={clickButton}>\n                <span className={`header__burger-button-span ${isButtonMenuActive && `header__burger-button-span_active` }`}></span>\n              </div>\n            </Route>\n\n          </Switch>\n    </header>\n  );\n}\n\nexport default Header;","import React from \"react\";\n\nfunction Card(props) {\n  const { onCardClick, onCardLike, onCardDelete, link, name, _id, likes, owner, userId } = props;\n\n  function handleClick() {\n    onCardClick(name, link);\n  }\n\n  function handleLikeClick() {\n    onCardLike(_id, likes);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(_id);\n  }\n\n  const isLiked = likes.some(i => i._id === userId);\n\n  const isOwn = owner._id === userId;\n\n  return (\n    <article className=\"card\">\n      {isOwn && <button className=\"card__button-delete\" type=\"button\" onClick={handleDeleteClick} aria-label=\"Удалить\"></button>}\n      <img className=\"card__img\" alt={name} src={link} onClick={handleClick} />\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{name}</h2>\n          <div className=\"card__likes\">\n            <button className={`card__button-like ${isLiked && `card__button-like_active`}`} \n            type=\"button\" aria-label=\"Нравится\"\n            onClick={handleLikeClick}></button>\n            <div className=\"card__num-likes\">{likes.length}</div>\n          </div>\n      </div>\n    </article>\n  );\n}\n\nexport default Card;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, initialCards, onCardLike, onCardDelete}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <main className=\"content\">\n\n          <section className=\"profile\">\n            <button className=\"profile__avatar-button\" onClick={onEditAvatar}>\n              <img className=\"profile__avatar\" alt=\"Фотография пользователя\" src={currentUser && currentUser.avatar}/>\n            </button>\n            <div className=\"profile__info\">\n              <h1 className=\"profile__name\">{currentUser && currentUser.name}</h1>\n              <button className=\"profile__edit-button button\" type=\"button\" aria-label=\"Изменить\" \n              onClick={onEditProfile}></button>\n              <p className=\"profile__job\">{currentUser && currentUser.about}</p>\n            </div>\n            <button className=\"profile__add-button button\" type=\"button\" aria-label=\"Добавить\" \n            onClick={onAddPlace}></button>\n          </section>\n\n          <section className=\"cards\">\n          { initialCards && initialCards.map((card) => \n            <Card \n            key={card._id}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDelete={onCardDelete}\n            {...card}\n            userId={currentUser._id} />)\n          }\n          </section>\n\n      </main>\n    </>\n  );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__copyright\">&#169;2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction ImagePopup({card, onClose, isOpen, closeByEscAndOverlay}) {\n\n  React.useEffect(() => {\n    closeByEscAndOverlay();\n  })\n\n  return (\n    <div className={`popup popup_photo ${isOpen && `popup_open`}`}>\n      <div className=\"popup__container\">\n        <button \n          className=\"popup__close-button button\"\n          type=\"button\" \n          aria-label=\"Закрыть\"\n          onClick={onClose}>\n        </button>\n        <img\n          className=\"popup__img\"\n          alt={card.name} src={card.link} />\n        <p className=\"popup__photo-title\">{card.name}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\n\nfunction PopupWithForm({ \n  name, \n  title,\n  children, \n  onClose, \n  isOpen, \n  onSubmit, \n  closeByEscAndOverlay \n}) {\n\n  React.useEffect(() => {\n    closeByEscAndOverlay();\n  })\n\n  // popup_${name}\n\n  return (\n    <div className={`popup popup_form ${isOpen && `popup_open`}`}>\n    <div className=\"popup__container\">\n      <button \n        className=\"popup__close-button button\" \n        type=\"button\" \n        aria-label=\"Закрыть\"\n        onClick= {onClose}>\n      </button>\n      <form noValidate className=\"form form_type_light\" name={name} method=\"get\" action=\"#\" onSubmit={onSubmit}>\n        <h2 className=\"form__title form__title_type_dark form__title_position_left\">{title}</h2>\n        {children}\n      </form>\n    </div>\n  </div>\n  );\n}\n\nexport default PopupWithForm;","import React, { useCallback } from \"react\";\n\nexport function useFormWithValidation() {\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isValid, setIsValid] = React.useState(false);\n  \n    const handleChange = (event) => {\n      const target = event.target;\n      const name = target.name;\n      const value = target.value;\n      setValues({...values, [name]: value});\n      setErrors({...errors, [name]: target.validationMessage });\n      setIsValid(target.closest(\"form\").checkValidity());\n    };\n  \n    const resetForm = useCallback(\n      (newValues = {}, newErrors = {}, newIsValid = false) => {\n        setValues(newValues);\n        setErrors(newErrors);\n        setIsValid(newIsValid);\n      },\n      [setValues, setErrors, setIsValid]\n    );\n  \n    return { values, handleChange, errors, isValid, resetForm };\n  }","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\n\nfunction EditProfilePopup({onClose, isOpen, onUpdateUser, closeByEscAndOverlay}) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation()\n\n  React.useEffect(() => {\n    if (currentUser) {\n      resetForm(currentUser)\n    }\n  }, [currentUser, onClose, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateUser({\n      name: values.name,\n      about: values.about\n    });\n    }\n\n  return (\n    <PopupWithForm\n      name='profile' \n      title='Редактировать профиль'\n      onClose={onClose} \n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      closeByEscAndOverlay={closeByEscAndOverlay}>\n      <input\n        value={values.name || ''}\n        onChange={handleChange}\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input form__input_type_dark\"\n        id=\"name-input\"\n        placeholder=\"ФИО\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required />\n      <span className=\"form__span-error\" id=\"name-input-error\">{errors.name || ''}</span>\n      <input\n        value={values.about || ''}\n        onChange={handleChange}\n        type=\"text\"\n        name=\"about\"\n        className=\"form__input form__input_type_dark\"\n        id=\"job-input\"\n        placeholder=\"О себе\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required />\n      <span className=\"form__span-error\" id=\"job-input-error\">{errors.about || ''}</span>\n      <button className={`form__button form__button_type_dark ${!isValid && 'form__button_type_dark_inactive'}`} type=\"submit\" aria-label=\"Сохранить\" disabled={!isValid}>Сохранить</button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\n\nfunction EditAvatarPopup({onClose, isOpen, onUpdateAvatar, closeByEscAndOverlay}) {\n    const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation()\n\n    React.useEffect(() => {\n        resetForm();\n    }, [onClose, resetForm, isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onUpdateAvatar({\n          avatar: values.avatar\n        });\n    }\n\n    return (\n    <PopupWithForm \n        name='edit-avatar' title='Сменить аватар'\n        onClose={onClose} isOpen={isOpen} onSubmit={handleSubmit}\n        closeByEscAndOverlay={closeByEscAndOverlay}>\n        <input\n        value={values.avatar || ''}\n        onChange={handleChange}\n        type=\"url\"\n        name=\"avatar\"\n        className=\"form__input form__input_type_dark\"\n        id=\"avatar-input\"\n        placeholder=\"https://...\"\n        required />\n        <span className=\"form__span-error\" id=\"avatar-input-error\">{errors.avatar || ''}</span>\n        <button className={`form__button form__button_type_dark ${!isValid && 'form__button_type_dark_inactive'}`} type=\"submit\" aria-label=\"Сохранить\" disabled={!isValid}>Сохранить</button>\n    </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\n\nfunction AddPlacePopup({onClose, isOpen, onAddPlace, closeByEscAndOverlay}) {\n\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation();\n\n  React.useEffect(() => {\n    resetForm();\n  }, [isOpen, resetForm]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPlace({\n      name: values.name,\n      link: values.link\n    });\n  }\n\n  return (\n    <PopupWithForm \n      name='place' title='Новое место'\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      closeByEscAndOverlay={closeByEscAndOverlay}>\n      <input\n        value={values.name || ''}\n        onChange={handleChange}\n        type=\"text\"\n        name=\"name\"\n        className=\"form__input form__input_type_dark\"\n        id=\"title-input\"\n        placeholder=\"Название\"\n        minLength=\"1\"\n        maxLength=\"30\"\n      required/>\n      <span className=\"form__span-error\" id=\"title-input-error\">{errors.name || ''}</span>\n      <input\n        value={values.link || ''}\n        onChange={handleChange}\n        type=\"url\"\n        name=\"link\"\n        className=\"form__input form__input_type_dark\"\n        id=\"img-input\"\n        placeholder=\"Ссылка на картинку\"\n      required />\n      <span className=\"form__span-error\" id=\"img-input-error\">{errors.link}</span>\n      <button className={`form__button form__button_type_dark ${!isValid && 'form__button_type_dark_inactive'}`} type=\"submit\" aria-label=\"Создать\" disabled={!isValid}>Создать</button>\n  </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup({onClose, isOpen, onSubmit, closeByEscAndOverlay}) {\n\n    const buttonFocusRef = React.useRef();\n\n    React.useEffect(() => {\n        buttonFocusRef.current.focus();\n    });\n\n    return (\n    <PopupWithForm\n        name='delete-card'\n        title='Вы уверены?'\n        buttonText='Да'\n        closeByEscAndOverlay={closeByEscAndOverlay}\n        onClose={onClose}\n        isOpen={isOpen}\n        onSubmit={onSubmit}>\n            <button className=\"form__button form__button_type_dark\" type=\"submit\" aria-label=\"Да\" ref={buttonFocusRef}>Да</button>\n    </PopupWithForm>        \n    );\n}\n\nexport default DeleteCardPopup;","import { apiAuthOptions } from './constants'\n\nclass ApiAuth {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status)\n    }\n  }\n\n  register(email, password) {\n    return fetch(`${this._baseUrl}/signup`,\n    {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        'password': password,\n        'email': email,\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  authorize(email, password) {\n    return fetch(`${this._baseUrl}/signin`,\n    {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        'password': password,\n        'email': email,\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  getContent(token) {\n    return fetch(`${this._baseUrl}/users/me`,\n    {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(this._handleResponse)\n  }\n}\n\nconst apiAuth = new ApiAuth(apiAuthOptions);\nexport { apiAuth };","export  const apiOptions = {\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\n  headers: {\n    authorization: '64f8b885-2658-44d6-bc45-dfe390bdb5b7',\n    'Content-Type': 'application/json'\n  }\n};\n\nexport const apiAuthOptions = {\n  baseUrl: 'https://auth.nomoreparties.co',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n};\n","import React from 'react';\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\nimport { Link, useHistory } from 'react-router-dom';\nimport { apiAuth } from '../utils/apiAuth';\n\nfunction Register({ setIsLoggedIn, setIsInfoTooltipOpen, setHasRegistartionError }) {\n\n  const [message, setMessage] = React.useState('');\n  const history = useHistory();\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation();\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n\n  function handleAuthorization() {\n    apiAuth.authorize(values.email, values.password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          return data;\n        } else {\n          localStorage.removeItem('token');\n          return;\n        }\n      })\n      .then((res) => {\n        if (res.token) {\n          setMessage('');\n          setIsLoggedIn(true);\n          history.push('/');\n        } else {\n          setMessage('Что-то пошло не так!');\n          setIsInfoTooltipOpen(true);\n          setHasRegistartionError(true);\n        }\n      })\n      .catch((err) => {\n        console.error('Ошибка!');\n        setIsInfoTooltipOpen(true);\n        setHasRegistartionError(true);\n        if (err === 400){\n          setMessage(\"Не передано одно из полей\");\n        } \n        if (err === 401) {\n          setMessage(\"Некорректный пароль или email\");\n        } \n      });\n  }\n\n  function handleSubmit (evt) {\n    evt.preventDefault();\n\n    apiAuth.register(values.email, values.password)\n      .then((res) => {\n        if (res.statusCode !== 400) {\n          setMessage('');\n          setIsInfoTooltipOpen(true);\n          setHasRegistartionError(false);\n          setTimeout(handleAuthorization, 1500);\n          //чтобы после регистрации сразу же прошла авторизация (как по макету), использую таймаут, чтобы сервер не ругался на множество запросов :)\n\n        } else {\n          setIsInfoTooltipOpen(true);\n          setHasRegistartionError(true);\n          setMessage(\"Некорректно заполнено одно из полей\");\n        }\n      })\n      .catch((err) => {\n        setMessage(\"Некорректно заполнено одно из полей\");\n        setIsInfoTooltipOpen(true);\n        setHasRegistartionError(true);\n      });\n  };\n\n  return (\n    <>\n      <section className=\"login-page\">\n        <form className=\"form form_type_dark form_type_full-page\" onSubmit={handleSubmit} noValidate>\n          <h1 className=\"form__title form__title_type_light form__title_position_center\">Регистрация</h1>\n          <p className=\"form__error\">{message}</p>\n          <input\n            value={values.email || ''}\n            onChange={handleChange}\n            type=\"email\"\n            name=\"email\"\n            className=\"form__input form__input_type_light\"\n            placeholder=\"Email\"\n            required />\n          <span className=\"form__span-error\">{errors.email || ''}</span>\n          <input\n            value={values.password || ''}\n            onChange={handleChange}\n            type=\"password\"\n            name=\"password\"\n            minLength=\"5\"\n            maxLength=\"12\"\n            className=\"form__input form__input_type_light\"\n            placeholder=\"Пароль\"\n            required />\n          <span className=\"form__span-error\">{errors.password || ''}</span>\n          <button className={`form__button form__button_type_light form__button_type_login ${!isValid && 'form__button_type_light_inactive'}`} type=\"submit\" aria-label=\"Зарегистрироваться\" disabled={!isValid}>Зарегистрироваться</button>\n          <p className=\"form__question\">Уже зарегистрированы?&nbsp;\n            <Link to=\"/sign-in\" className=\"form__link\">Войти</Link>\n          </p>\n\n        </form>\n\n      </section>\n    </>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { useFormWithValidation } from '../hooks/useFormWithValidation';\nimport { Link, useHistory } from 'react-router-dom';\nimport { apiAuth } from '../utils/apiAuth';\n\nfunction Login({ setIsLoggedIn }) {\n\n  const [message, setMessage] = React.useState('');\n\n  const {values, handleChange, errors, isValid, resetForm} = useFormWithValidation();\n  React.useEffect(() => {\n    resetForm();\n  }, [resetForm]);\n\n  const history = useHistory();\n\n  function handleSubmit (evt) {\n    evt.preventDefault();\n\n    apiAuth.authorize(values.email, values.password)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          return data;\n        } else {\n          localStorage.removeItem('token');\n          return;\n        }\n      })\n      .then((res) => {\n        if (res.token) {\n          setMessage('');\n          setIsLoggedIn(true);\n          history.push('/');\n        } else {\n          setMessage('Что-то пошло не так!');\n        }\n      })\n      .catch((err) => {\n        if (err === 400){\n          setMessage(\"Не передано одно из полей\");\n        } \n        if (err === 401) {\n          setMessage(\"Некорректный пароль или email\");\n        } \n      });\n  };\n\n  return (\n    <>\n      <section className=\"login-page\">\n        <form className=\"form form_type_dark form_type_full-page\" onSubmit={handleSubmit} noValidate>\n          <h1 className=\"form__title form__title_type_light form__title_position_center\">Вход</h1>\n          <p className=\"form__error\">{message}</p>\n          <input\n            value={values.email || ''}\n            onChange={handleChange}\n            type=\"email\"\n            name=\"email\"\n            className=\"form__input form__input_type_light\"\n            placeholder=\"Email\"\n            required />\n          <span className=\"form__span-error\">{errors.email || ''}</span>\n          <input\n            value={values.password || ''}\n            onChange={handleChange}\n            minLength=\"5\"\n            maxLength=\"12\"\n            type=\"password\"\n            name=\"password\"\n            className=\"form__input form__input_type_light\"\n            placeholder=\"Пароль\"\n            required />\n          <span className=\"form__span-error\">{errors.password || ''}</span>\n          <button className={`form__button form__button_type_light form__button_type_login ${!isValid && 'form__button_type_light_inactive'}`} type=\"submit\" aria-label=\"Войти\" disabled={!isValid}>Войти</button>\n          <p className=\"form__question\">Еще не зарегистрированы?&nbsp;\n            <Link to=\"/sign-up\" className=\"form__link\">Зарегистрироваться</Link>\n          </p>\n\n        </form>\n      </section>\n    </>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport ErrorIcon from '../images/Error.svg';\nimport CheckMarkIcon from '../images/check-mark.svg';\n\nfunction InfoTooltip({onClose, isOpen, closeByEscAndOverlay, hasError}) {\n\n  React.useEffect(() => {\n    closeByEscAndOverlay();\n  })\n\n  return (\n    <div className={`popup popup_form ${isOpen && `popup_open`}`}>\n      <div className=\"popup__container\">\n        <button \n          className=\"popup__close-button popup__close-button_position_center button\"\n          type=\"button\" \n          aria-label=\"Закрыть\"\n          onClick={onClose}>\n        </button>\n        <div className=\"popup__content\">\n          {hasError && \n            <>\n              <img className=\"popup__icon\" src={ErrorIcon} alt=\"Ошибка\"></img>\n              <p className=\"popup__message\">Что-то пошло не так! Попробуйте ещё раз.</p>\n            </>\n          }\n          {!hasError && \n            <>\n              <img className=\"popup__icon\" src={CheckMarkIcon} alt=\"Регистрация прошла успешно!\"></img>\n              <p className=\"popup__message\">Вы успешно зарегистрировались!</p>\n            </>\n          }\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { CurrentUserEmail } from '../contexts/CurrentUserEmail';\n\nfunction Menu({ signOut, isOpen, loggedIn }) {\n\n  const CurrentEmail = React.useContext(CurrentUserEmail);\n\n  return (\n    <>\n      { loggedIn && <header className={`menu ${isOpen ? `menu_active` : `menu_inactive`}`}>\n        <ul className=\"menu__container\">\n          <li><h1 className=\"menu__user-info\">{ CurrentEmail &&  CurrentEmail}</h1></li>\n          <li><button onClick={signOut} className=\"menu__link\">Выйти</button></li>\n        </ul>\n      </header>}\n    </>\n  );\n}\n\nexport default Menu;","import { apiOptions } from './constants'\n\nclass Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n    this._authorization = this._headers.authorization;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status)\n    }\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`,\n    {\n      headers: {\n        authorization: this._authorization\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: this._authorization\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  editProfile(values) {\n    return fetch(`${this._baseUrl}/users/me`, {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify(\n      values\n    )\n    })\n    .then(this._handleResponse)\n  }\n\n  createCard(values) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(\n        values\n      )\n      })\n      .then(this._handleResponse)\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n  }\n\n  editAvatar(values) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n    method: 'PATCH',\n    headers: this._headers,\n    body: JSON.stringify(\n      values\n    )\n    })\n    .then(this._handleResponse)\n  }\n\n  putLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'PUT',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n  }\n\n  deleteLike(cardId) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: 'DELETE',\n      headers: this._headers\n      })\n      .then(this._handleResponse)\n  }\n}\n\nconst api = new Api(apiOptions);\n\nexport { api };","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport Menu from './Menu';\nimport { api } from '../utils/api';\nimport { apiAuth } from '../utils/apiAuth';\nimport ProtectedRoute from './ProtectedRoute';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { CurrentUserEmail } from '../contexts/CurrentUserEmail';\nimport { Route, Switch, Redirect, useHistory, useLocation } from 'react-router-dom';\n\nfunction App() {\n  const location = useLocation();\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [currentUserEmail, setCurrentUserEmail] = React.useState('');\n  const [cards, setCards] = React.useState(null); \n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isPhotoPopupOpen, setIsPhotoPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\n  const [isButtonMenuActive, setIsButtonMenuActive] = React.useState(false);\n  const [hasRegistartionError, setHasRegistartionError] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [cardForDelete, setCardForDelete] = React.useState({});\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const history = useHistory();\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userInfo, cardsInfo]) => {\n      setCurrentUser(userInfo);\n      setCards(cardsInfo);\n    })\n    .catch(err => console.error(`При получении данных пользователя и карточек произошла ошибка: ${err}`));\n  },[]);\n  //создаю данный эффект, чтобы текущий email был верным (при авторизации обновлять email не могу - сервер возвращает только токен)\n  React.useEffect(() => {\n    tokenCheck();\n  },[location.pathname])\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(name, link) {\n    setSelectedCard(\n      {name: name,\n      link: link});\n    setIsPhotoPopupOpen(true);\n  }\n\n  function handleDeleteCardClick(idCard) {\n    setCardForDelete(\n      {id: idCard});\n    setIsDeleteCardPopupOpen(true);\n  }\n  \n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsPhotoPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  function handleMenuBlock() {\n    setIsMenuOpen(!isMenuOpen);\n  }\n\n  function handleButtonMenu() {\n    setIsButtonMenuActive(!isButtonMenuActive);\n  }\n\n  function tokenCheck() {\n    let token = localStorage.getItem('token');\n    if (token) {\n      apiAuth.getContent(token)\n      .then((res) => {\n        if (res) {\n          setCurrentUserEmail(res.data.email);\n          setIsLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        if (err === 400){\n          console.error('Токен не передан или передан не в том формате');\n        } \n        if (err === 401) {\n          console.error('Переданный токен некорректен');\n        }\n      });\n    }\n  };\n\n  function signOut(){\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    setIsMenuOpen(false);\n    setIsButtonMenuActive(false);\n    history.push('/sign-in');\n  }\n\n  function closePopupByEscAndOverlay() {\n    function handleEscClose(e) {\n      if (e.key === \"Escape\") {\n        closeAllPopups()\n      }\n    }\n\n    function closeByOverlay(e) {\n      if (e.target.classList.contains(`popup_open`)) {\n        closeAllPopups()\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    }\n  }\n\n  function handleUpdateUser(values) {\n    api.editProfile(values)\n    .then(res => {\n      setCurrentUser({\n        ...currentUser,\n        name: res.name,\n        about: res.about\n      });\n      closeAllPopups();\n    })\n    .catch(err => console.error(`При редактировании профиля произошла ошибка: ${err}`))\n\n  }\n\n  function handleUpdateAvatar(values) {\n    api.editAvatar(values)\n    .then(res => {\n      setCurrentUser({\n        ...currentUser,\n        avatar: res.avatar\n      });\n      closeAllPopups();\n    })\n    .catch(err => console.error(`При редактировании аватара произошла ошибка: ${err}`))\n\n  }\n\n  function handleCardLike(cardId, cardLikes) {\n    const isLiked = cardLikes.some(i => i._id === currentUser._id);\n\n    function generateNewCards(newCard) {\n      const newCards = cards.map((item) => item._id === cardId ? newCard : item);\n      setCards(newCards);\n    }\n\n    isLiked\n    ?  api.deleteLike(cardId)\n      .then(newCard => {\n        generateNewCards(newCard)\n      })\n      .catch(err => console.error(`При лайке произошла ошибка: ${err}`))\n    :  api.putLike(cardId)\n      .then(newCard => {\n        generateNewCards(newCard)\n      })\n      .catch(err => console.error(`При лайке произошла ошибка: ${err}`))\n  }\n\n  function handleCardDelete(e) {\n    e.preventDefault();\n    api.deleteCard(cardForDelete.id)\n    .then(() => {\n      const newCards = cards.filter((item) => item._id !== cardForDelete.id);\n      setCards(newCards);\n      closeAllPopups();\n    })\n    .catch(err => console.error(`При удалении карточки произошла ошибка: ${err}`))\n\n  }\n\n  function handleAddPlaceSubmit(values) {\n    api.createCard(values)\n    .then(newCard => {\n      setCards([newCard, ...cards]);\n    })\n    .catch(err => console.error(`При добавлении карточки произошла ошибка: ${err}`));\n\n    closeAllPopups();\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <CurrentUserEmail.Provider value={currentUserEmail}>\n        <div className=\"page\">\n\n          <Menu \n            signOut={signOut}\n            isOpen={isMenuOpen} \n            loggedIn={isLoggedIn}/>\n\n          <Header \n            signOut={signOut}\n            handleMenu={handleMenuBlock}\n            handleButtonMenu={handleButtonMenu}\n            isButtonMenuActive={isButtonMenuActive}/>\n\n          <Switch>\n\n            <Route path=\"/sign-up\">\n              <Register \n                setIsLoggedIn={setIsLoggedIn} \n                setIsInfoTooltipOpen={setIsInfoTooltipOpen} \n                setHasRegistartionError={setHasRegistartionError}/>\n            </Route>\n\n            <Route path=\"/sign-in\">\n              <Login setIsLoggedIn={setIsLoggedIn}/>\n            </Route>\n\n            <ProtectedRoute \n              path=\"/\" \n              loggedIn={isLoggedIn} \n              component={Main}\n              onEditAvatar={handleEditAvatarClick}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onCardClick={handleCardClick}\n              initialCards={cards}\n              onCardLike={handleCardLike}\n              onCardDelete={handleDeleteCardClick} />\n\n            <Route> \n              {isLoggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-up\" />}\n            </Route>\n\n          </Switch>\n\n          {/** EditProfilePopup */}\n          { currentUser && <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n          }\n\n          {/** EditAvatarPopup */}\n          { currentUser && <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n          }\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n            closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n\n          <ImagePopup card={selectedCard}\n            onClose={closeAllPopups}\n            isOpen={isPhotoPopupOpen}\n            closeByEscAndOverlay={closePopupByEscAndOverlay}/>\n\n          <DeleteCardPopup\n            closeByEscAndOverlay={closePopupByEscAndOverlay}\n            onClose={closeAllPopups}\n            isOpen={isDeleteCardPopupOpen}\n            onSubmit={handleCardDelete}>\n          </DeleteCardPopup>\n\n          <InfoTooltip \n            onClose={closeAllPopups} \n            isOpen={isInfoTooltipOpen} \n            closeByEscAndOverlay={closePopupByEscAndOverlay} \n            hasError={hasRegistartionError}/>\n\n          <Footer />\n\n        </div>\n      </CurrentUserEmail.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}